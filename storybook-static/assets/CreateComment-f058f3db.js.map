{"version":3,"file":"CreateComment-f058f3db.js","sources":["../../src/CreateComment/CreateComment.tsx"],"sourcesContent":["import { Link } from 'react-router-dom'\nimport { Box, Button, Flex, Text, Textarea } from 'theme-ui'\n\nimport { MemberBadge } from '../MemberBadge/MemberBadge'\n\nexport interface Props {\n  maxLength: number\n  isLoggedIn: boolean\n  onSubmit: (value: string) => void\n  onChange: (value: string) => void\n  comment: string\n  userProfileType?: string\n}\n\nexport const CreateComment = (props: Props) => {\n  const { comment, isLoggedIn, maxLength, onSubmit } = props\n  const userProfileType = props.userProfileType || 'member'\n\n  const onChange = (newValue: string) => {\n    props.onChange && props?.onChange(newValue)\n  }\n\n  return (\n    <Flex sx={{ flexDirection: 'column', gap: 3 }}>\n      <Flex data-target=\"create-comment-container\">\n        <Box sx={{ lineHeight: 0, marginTop: 2 }}>\n          <MemberBadge profileType={userProfileType} useLowDetailVersion />\n        </Box>\n        <Box\n          sx={{\n            display: 'block',\n            background: 'white',\n            flexGrow: 1,\n            marginLeft: 5,\n            borderRadius: 1,\n            position: 'relative',\n            '&:before': {\n              content: '\"\"',\n              position: 'absolute',\n              borderWidth: '1em 1em',\n              borderStyle: 'solid',\n              borderColor: 'transparent white transparent transparent',\n              margin: '1em -2em',\n            },\n          }}\n        >\n          {isLoggedIn ? (\n            <>\n              <Textarea\n                value={comment}\n                maxLength={maxLength}\n                onChange={(event) => {\n                  onChange && onChange(event.target.value)\n                }}\n                data-cy=\"comments-form\"\n                placeholder=\"Leave your questions or feedback...\"\n                sx={{\n                  background: 'none',\n                  resize: 'vertical',\n                  padding: 3,\n                  '&:focus': {\n                    borderColor: 'transparent',\n                  },\n                }}\n              />\n              <Text\n                sx={{\n                  fontSize: 2,\n                  position: 'absolute',\n                  right: 0,\n                  bottom: -5,\n                  pointerEvents: 'none',\n                  padding: 1,\n                }}\n              >\n                {comment.length}/{maxLength}\n              </Text>\n            </>\n          ) : (\n            <Box sx={{ padding: [3, 4] }}>\n              <Text data-cy=\"comments-login-prompt\">\n                Hi there!{' '}\n                <Link\n                  to=\"/sign-in\"\n                  style={{\n                    textDecoration: 'underline',\n                    color: 'inherit',\n                  }}\n                >\n                  Login\n                </Link>{' '}\n                to leave a comment\n              </Text>\n            </Box>\n          )}\n        </Box>\n      </Flex>\n\n      <Flex sx={{ alignSelf: 'flex-end' }}>\n        <Button\n          data-cy=\"comment-submit\"\n          disabled={!comment.trim() || !isLoggedIn}\n          variant=\"primary\"\n          onClick={() => onSubmit(comment)}\n          sx={{ marginTop: 3 }}\n        >\n          Leave a comment\n        </Button>\n      </Flex>\n    </Flex>\n  )\n}\n"],"names":["CreateComment","props","comment","isLoggedIn","maxLength","onSubmit","userProfileType","onChange","newValue","jsxs","Flex","jsx","Box","MemberBadge","Fragment","Textarea","event","Text","Link","Button"],"mappings":"wOAcO,MAAAA,EAAAC,GAAA,CACL,KAAA,CAAA,QAAAC,EAAA,WAAAC,EAAA,UAAAC,EAAA,SAAAC,CAAA,EAAAJ,EACAK,EAAAL,EAAA,iBAAA,SAEAM,EAAAC,GAAA,CACEP,EAAA,WAAAA,GAAA,MAAAA,EAAA,SAAAO,GAA0C,EAG5C,OAAAC,EAAAC,EAAA,CAAA,GAAA,CAAA,cAAA,SAAA,IAAA,CAAA,EAAA,SAAA,CAEID,EAAAC,EAAA,CAAA,cAAA,2BAAA,SAAA,CACEC,EAAAC,EAAA,CAAA,GAAA,CAAA,WAAA,EAAA,UAAA,CAAA,EAAA,SAAAD,EAAAE,EAAA,CAAA,YAAAP,EAAA,oBAAA,EAAA,CAAA,EAAA,EAEAK,EACAC,EAAC,CAAA,GAAA,CACK,QAAA,QACO,WAAA,QACG,SAAA,EACF,WAAA,EACE,aAAA,EACE,SAAA,WACJ,WAAA,CACE,QAAA,KACD,SAAA,WACC,YAAA,UACG,YAAA,QACA,YAAA,4CACA,OAAA,UACL,CACV,EACF,SAAAT,EAAAM,EAAAK,EAAA,CAAA,SAAA,CAIIH,EAAAI,EAAC,CAAA,MAAAb,EACQ,UAAAE,EACP,SAAAY,GAAA,CAEET,GAAAA,EAAAS,EAAA,OAAA,KAAA,CAAuC,EACzC,UAAA,gBACQ,YAAA,sCACI,GAAA,CACR,WAAA,OACU,OAAA,WACJ,QAAA,EACC,UAAA,CACE,YAAA,aACI,CACf,CACF,CAAA,EACFP,EACAQ,EAAC,CAAA,GAAA,CACK,SAAA,EACQ,SAAA,WACA,MAAA,EACH,OAAA,GACC,cAAA,OACO,QAAA,CACN,EACX,SAAA,CAECf,EAAA,OAAQ,IAAOE,CAAE,CAAA,CAAA,CACpB,CAAA,CAAA,EAAAO,EAAAC,EAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,CAAA,EAAA,SAAAH,EAAAQ,EAAA,CAAA,UAAA,wBAAA,SAAA,CAIsC,YAAA,IAC1BN,EACVO,EAAC,CAAA,GAAA,WACI,MAAA,CACI,eAAA,YACW,MAAA,SACT,EACT,SAAA,OACD,CAAA,EAED,IAAQ,oBAAI,CAAA,CAAA,CAAA,CAAA,CAGhB,CAAA,CAEJ,EAAA,EACFP,EAAAD,EAAA,CAAA,GAAA,CAAA,UAAA,UAAA,EAAA,SAAAC,EAGEQ,EAAC,CAAA,UAAA,iBACS,SAAA,CAAAjB,EAAA,KAAA,GAAA,CAAAC,EACsB,QAAA,UACtB,QAAA,IAAAE,EAAAH,CAAA,EACuB,GAAA,CAAA,UAAA,CAAA,EACZ,SAAA,iBACpB,CAAA,EAAA,CAGH,CAAA,CAAA,CAGN"}
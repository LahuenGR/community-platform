{"version":3,"file":"MapMemberCard-f15e57b8.js","sources":["../../src/MapMemberCard/MapMemberCard.tsx"],"sourcesContent":["import { Box, Card, Flex, Text, Image, AspectRatio, Alert } from 'theme-ui'\nimport { Button } from '../Button/Button'\n\nimport { InternalLink } from '../InternalLink/InternalLink'\nimport { Username } from '../Username/Username'\n\nexport interface Props {\n  loading?: boolean\n  imageUrl: string\n  description: string\n  user: {\n    isVerified: boolean\n    username: string\n    country: string | null\n  }\n  heading: string\n  moderationStatus: string\n  onPinModerated?: (isPinApproved: boolean) => void\n  isEditable: boolean\n}\n\nimport { keyframes } from '@emotion/react'\n\nconst wave = keyframes`\n  from {\n    background: lightgrey;\n  }\n  to {\n    background: grey;\n  }\n`\n\nexport const MapMemberCard = (props: Props) => {\n  const { imageUrl, description, user, heading } = props\n  const moderationStatusMsg =\n    props.moderationStatus !== 'rejected'\n      ? 'This pin is awaiting moderation, it will be shown on general map once accepted.'\n      : 'This pin has been rejected, it willÂ not show on general map.'\n  const pin = {\n    type: 'member',\n    moderation: props.moderationStatus,\n  }\n\n  const onPinModerated = props.onPinModerated\n\n  return (\n    <Card sx={{ maxWidth: '230px' }} data-cy=\"MapMemberCard\">\n      <InternalLink to={`/u/${user.username}`}>\n        {!!props.loading && (\n          <>\n            <AspectRatio\n              ratio={230 / 120}\n              sx={{\n                background: 'lightgrey',\n                animation: `${wave} 800ms ease infinite`,\n              }}\n            />\n            <Box sx={{ p: 2, height: '109px' }} />\n          </>\n        )}\n        {!props.loading && (\n          <>\n            <AspectRatio\n              ratio={230 / 120}\n              sx={{\n                background: 'lightgrey',\n              }}\n            >\n              <Image\n                src={imageUrl}\n                sx={{ objectFit: 'cover', width: '100%', height: '100%' }}\n              />\n            </AspectRatio>\n            <Box sx={{ p: 2 }}>\n              <Text mb={2} sx={{ fontSize: '12px', color: 'blue' }}>\n                {heading}\n              </Text>\n              <div>\n                <Username\n                  isVerified={!!user.isVerified}\n                  user={{\n                    userName: user.username,\n                    countryCode: user.country,\n                  }}\n                />\n              </div>\n              <Text\n                mb={2}\n                sx={{\n                  wordBreak: 'break-word',\n                  fontSize: 1,\n                  display: 'block',\n                  color: 'black',\n                }}\n              >\n                {description}\n              </Text>\n            </Box>\n          </>\n        )}\n        {pin.moderation !== 'accepted' && (\n          <Alert\n            mb={2}\n            data-cy=\"MapMemberCard: moderation status\"\n            variant={pin.moderation === 'rejected' ? 'failure' : 'info'}\n            sx={{\n              mx: 2,\n              fontSize: 1,\n              textAlign: 'left',\n              padding: 2,\n            }}\n          >\n            {moderationStatusMsg}\n          </Alert>\n        )}\n      </InternalLink>\n      {props.isEditable && (\n        <Flex\n          sx={{\n            m: 2,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n          }}\n        >\n          <Button\n            small\n            data-cy=\"MapMemberCard: accept\"\n            variant={'primary'}\n            icon=\"check\"\n            onClick={() => onPinModerated && onPinModerated(true)}\n          >\n            Approve\n          </Button>\n          <Button\n            small\n            data-cy=\"MapMemberCard: reject\"\n            variant={'outline'}\n            icon=\"delete\"\n            onClick={() => onPinModerated && onPinModerated(false)}\n          >\n            Reject\n          </Button>\n        </Flex>\n      )}\n    </Card>\n  )\n}\n"],"names":["wave","keyframes","MapMemberCard","props","imageUrl","description","user","heading","moderationStatusMsg","pin","onPinModerated","jsxs","Card","InternalLink","Fragment","jsx","AspectRatio","Box","Image","Text","Username","Alert","Flex","Button"],"mappings":"+VAuBA,MAAAA,EAAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASOC,EAAAC,GAAA,CACL,KAAA,CAAA,SAAAC,EAAA,YAAAC,EAAA,KAAAC,EAAA,QAAAC,CAAA,EAAAJ,EACAK,EAAAL,EAAA,mBAAA,WAAA,kFAAA,+DAIAM,EAAA,CAAY,KAAA,SACJ,WAAAN,EAAA,gBACY,EAGpBO,EAAAP,EAAA,eAEA,OAAAQ,EAAAC,EAAA,CAAA,GAAA,CAAA,SAAA,SAAA,UAAA,gBAAA,SAAA,CAEID,EAAAE,EAAA,CAAA,GAAA,MAAAP,EAAA,WAAA,SAAA,CACG,CAAA,CAAAH,EAAA,SAAAQ,EAAAG,EAAA,CAAA,SAAA,CAEGC,EAAAC,EAAC,CAAA,MAAA,IAAA,IACc,GAAA,CACT,WAAA,YACU,UAAA,GAAAhB,uBACE,CAChB,CAAA,EACFe,EAAAE,EAAA,CAAA,GAAA,CAAA,EAAA,EAAA,OAAA,OAAA,EAAA,CACoC,EAAA,EACtC,CAAAd,EAAA,SAAAQ,EAAAG,EAAA,CAAA,SAAA,CAIEC,EAAAC,EAAC,CAAA,MAAA,IAAA,IACc,GAAA,CACT,WAAA,WACU,EACd,SAAAD,EAEAG,EAAC,CAAA,IAAAd,EACM,GAAA,CAAA,UAAA,QAAA,MAAA,OAAA,OAAA,MAAA,CACmD,CAAA,CAC1D,CAAA,EACFO,EAAAM,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,SAAA,CAEEF,EAAAI,EAAA,CAAA,GAAA,EAAA,GAAA,CAAA,SAAA,OAAA,MAAA,MAAA,EAAA,SAAAZ,CAAA,CAAA,EAEAQ,EAAA,MAAA,CAAA,SAAAA,EAEEK,EAAC,CAAA,WAAA,CAAA,CAAAd,EAAA,WACoB,KAAA,CACb,SAAAA,EAAA,SACW,YAAAA,EAAA,OACG,CACpB,CAAA,EAAA,EAEJS,EACAI,EAAC,CAAA,GAAA,EACK,GAAA,CACA,UAAA,aACS,SAAA,EACD,QAAA,QACD,MAAA,OACF,EACT,SAAAd,CAEC,CAAA,CACH,EAAA,CACF,EAAA,EACFI,EAAA,aAAA,YAAAM,EAGAM,EAAC,CAAA,GAAA,EACK,UAAA,mCACI,QAAAZ,EAAA,aAAA,WAAA,UAAA,OAC6C,GAAA,CACjD,GAAA,EACE,SAAA,EACM,UAAA,OACC,QAAA,CACF,EACX,SAAAD,CAEC,CAAA,CACH,EAAA,EAEJL,EAAA,YAAAQ,EAEEW,EAAC,CAAA,GAAA,CACK,EAAA,EACC,cAAA,MACY,eAAA,eACC,EAClB,SAAA,CAEAP,EAAAQ,EAAC,CAAA,MAAA,GACM,UAAA,wBACG,QAAA,UACC,KAAA,QACJ,QAAA,IAAAb,GAAAA,EAAA,EAAA,EAC+C,SAAA,SACrD,CAAA,EAEDK,EACAQ,EAAC,CAAA,MAAA,GACM,UAAA,wBACG,QAAA,UACC,KAAA,SACJ,QAAA,IAAAb,GAAAA,EAAA,EAAA,EACgD,SAAA,QACtD,CAAA,CAED,CAAA,CAAA,CACF,CAAA,CAAA,CAIR"}